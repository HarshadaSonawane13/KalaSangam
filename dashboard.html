<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | KalaSangam</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Header -->
  <header>
    <nav class="navbar navbar-expand-lg custom-navbar">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <span class="logo-text">KalaSangam</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
            <li class="nav-item"><a id="logoutBtn" class="btn btn-sm btn-login" href="#">Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Dashboard Section -->
  <section class="dashboard-section py-5">
    <div class="container text-center">
      <h1 class="dashboard-title mb-3">Welcome, <span id="username"></span>!</h1>
      <p class="dashboard-subtitle mb-5">Explore workshops and view your registrations.</p>

      <div class="row g-4 justify-content-center">
        <!-- Browse Workshops -->
        <div class="col-md-4">
          <div class="card dashboard-card p-4 h-100">
            <h4 class="card-title">Browse Workshops</h4>
            <p class="card-text">Discover creative workshops tailored for you.</p>
            <button id="goToWorkshops" class="btn btn-cta mt-3">Go to Workshops</button>
          </div>
        </div>

        <!-- My Registrations -->
        <div class="col-md-4">
          <div class="card dashboard-card p-4 h-100">
            <h4 class="card-title">My Registrations</h4>
            <p class="card-text">Check the workshops youâ€™ve registered for.</p>
            <a href="my-registrations.html" class="btn btn-cta mt-3">View Registrations</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer py-3 text-center mt-auto">
    <div class="container">
      <p class="mb-1">Join Our Creative Community</p>
      <p class="mb-0"><a href="#">Privacy Policy</a> | &copy; 2025 KalaSangam</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const username = localStorage.getItem('username');
      const token = localStorage.getItem('token');

      if (!token || !username) {
        alert('Please log in first!');
        window.location.href = 'login.html';
        return;
      }

      document.getElementById('username').textContent = username;

      document.getElementById('logoutBtn').addEventListener('click', (e) => {
        e.preventDefault();
        ['token', 'username', 'role'].forEach(k => localStorage.removeItem(k));
        alert('You have been logged out.');
        window.location.href = 'index.html';
      });

      document.getElementById('goToWorkshops').addEventListener('click', () => {
        window.location.href = 'event-list1.html';
      });
    });
  </script>
</body>
</html>
